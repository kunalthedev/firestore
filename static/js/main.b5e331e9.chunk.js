(this.webpackJsonpfirestore=this.webpackJsonpfirestore||[]).push([[0],{43:function(e,t,a){},47:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),s=a(31),r=a.n(s),o=(a(43),a(21)),i=a.n(o),l=a(28),d=a(15),j=a(63),u=a(23),b=a(10),p=a(19),m=(a(45),a(46),a(47),{quality:.2,maxWidth:800,maxHeight:600,autoRotate:!0}),h=a(12),O=(a(48),a(61),a(64)),x=a(65),f=a(66),v=a(67),g=a(68),y=a(69),N=a(70),k=a(71),C=a(37),w=a(81),S=Object(c.createContext)(),T="SET_LOADING",A="SET_CONTACT",U="CONTACT_TO_UPDATE",E="SET_SINGLE_CONTACT",I=a(4),L=function(){var e=Object(c.useContext)(S),t=e.state,a=e.dispatch,n=t.contactToUpdate,s=t.contactToUpdateKey,r=Object(b.f)(),o=Object(c.useState)(""),u=Object(d.a)(o,2),T=u[0],A=u[1],E=Object(c.useState)(""),L=Object(d.a)(E,2),D=L[0],_=L[1],K=Object(c.useState)(""),G=Object(d.a)(K,2),P=G[0],R=G[1],B=Object(c.useState)(""),F=Object(d.a)(B,2),H=F[0],M=F[1],W=Object(c.useState)(!1),q=Object(d.a)(W,2),z=q[0],J=q[1],Q=Object(c.useState)(null),V=Object(d.a)(Q,2),Y=V[0],$=V[1],X=Object(c.useState)(!1),Z=Object(d.a)(X,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(!1),ce=Object(d.a)(ae,2),ne=ce[0],se=ce[1];Object(c.useEffect)((function(){n&&(A(n.name),_(n.email),R(n.phoneNumber),M(n.address),te(n.star),$(n.picture),se(!0))}),[n]);var re=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,n,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.target.files[0],c={contentType:null===a||void 0===a?void 0:a.type},e.next=5,Object(C.readAndCompressImage)(a,m);case 5:return n=e.sent,e.next=8,h.a.storage().ref();case 8:s=e.sent,(r=s.child("images/"+(null===a||void 0===a?void 0:a.name)).put(n,c)).on(h.a.storage.TaskEvent.STATE_CHANGED,(function(e){J(!0);var t=e.bytesTransferred/e.totalBytes*100;switch(e.state){case h.a.storage.TaskState.PAUSED:J(!1),console.log("UPloading is paused");break;case h.a.storage.TaskState.RUNNING:console.log("UPloading is in progress...")}100===t&&(J(!1),Object(p.b)("uploaded",{type:"success"}))}),(function(e){Object(p.b)("something is wrong in state change",{type:"error"})}),(function(){r.snapshot.ref.getDownloadURL().then((function(e){$(e)})).catch((function(e){return console.log(e)}))})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),Object(p.b)("Something went wrong",{type:"error"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{h.a.database().ref("contacts/"+Object(w.a)()).set({name:T,email:D,phoneNumber:P,address:H,picture:Y,star:ee})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{h.a.database().ref("contacts/"+s).set({name:T,email:D,phoneNumber:P,address:H,picture:Y,star:ee})}catch(t){console.log(t),Object(p.b)("Oppss..",{type:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(j.a,{fluid:!0,className:"mt-5",children:Object(I.jsx)(O.a,{children:Object(I.jsx)(x.a,{md:"6",className:"offset-md-3 p-2",children:Object(I.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),ne?ie():oe(),Object(p.b)("Success",{type:"success"}),a({type:U,payload:null,key:null}),r.push("/")},children:[Object(I.jsx)("div",{className:"text-center",children:z?Object(I.jsx)(v.a,{type:"grow",color:"primary"}):Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"imagepicker",className:"",children:Object(I.jsx)("img",{src:Y,alt:"",className:"profile"})}),Object(I.jsx)("input",{type:"file",name:"image",id:"imagepicker",accept:"image/*",multiple:!1,onChange:function(e){return re(e)},className:"hidden"})]})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(y.a,{type:"text",name:"name",id:"name",placeholder:"Name",value:T,onChange:function(e){return A(e.target.value)}})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(y.a,{type:"email",name:"email",id:"email",value:D,onChange:function(e){return _(e.target.value)},placeholder:"Email"})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(y.a,{type:"number",name:"number",id:"phonenumber",value:P,onChange:function(e){return R(e.target.value)},placeholder:"phone number"})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(y.a,{type:"textarea",name:"area",id:"area",value:H,onChange:function(e){return M(e.target.value)},placeholder:"address"})}),Object(I.jsx)(g.a,{check:!0,children:Object(I.jsxs)(N.a,{check:!0,children:[Object(I.jsx)(y.a,{type:"checkbox",onChange:function(){te(!ee)},checked:ee})," ",Object(I.jsx)("span",{className:"text-right",children:"Mark as Star"})]})}),Object(I.jsx)(k.a,{type:"submit",color:"primary",block:!0,className:"text-uppercase",children:ne?"Update Contact":"Add Contact"})]})})})})},D=a(72),_=a(73),K=a(26),G=a(30),P=function(e){var t=e.contact,a=e.contactKey,n=Object(c.useContext)(S).dispatch,s=Object(b.f)();return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(O.a,{children:[Object(I.jsx)(x.a,{md:"1",className:"d-flex justify-content-center align-items-center",children:Object(I.jsx)("div",{className:"icon",onClick:function(){h.a.database().ref("/contacts/".concat(a)).update({star:!(null===t||void 0===t?void 0:t.star)},(function(e){console.log(e)})).then((function(){Object(p.b)("Contact Updated",{type:"info"})})).catch((function(e){return console.log(e)}))},children:(null===t||void 0===t?void 0:t.star)?Object(I.jsx)(K.e,{className:" text-primary"}):Object(I.jsx)(K.d,{className:" text-info"})})}),Object(I.jsx)(x.a,{md:"2",className:"d-flex justify-content-center align-items-center",children:Object(I.jsx)("img",{src:null===t||void 0===t?void 0:t.picture,alt:"",className:"img-circle profile"})}),Object(I.jsxs)(x.a,{md:"8",onClick:function(){return function(e){n({type:E,payload:e}),s.push("/contact/view")}(t)},children:[Object(I.jsx)("div",{className:"text-primary",children:null===t||void 0===t?void 0:t.name}),Object(I.jsx)("div",{className:"text-secondary",children:null===t||void 0===t?void 0:t.phoneNumber}),Object(I.jsx)("div",{className:"text-secondary",children:null===t||void 0===t?void 0:t.email}),Object(I.jsx)("div",{className:"text-info",children:null===t||void 0===t?void 0:t.address})]}),Object(I.jsxs)(x.a,{md:"1",className:"d-flex justify-content-center align-items-center",children:[Object(I.jsx)(G.b,{onClick:function(){h.a.database().ref("/contacts/".concat(a)).remove().then((function(){Object(p.b)("Deleted Successfully",{type:"warning"})})).catch((function(e){return console.log(e)}))},color:"danger",className:"text-danger icon"}),Object(I.jsx)(G.c,{className:"icon text-info ml-2",onClick:function(){return n({type:U,payload:t,key:a}),void s.push("/contact/add")}})]})]})})},R=function(){var e=Object(c.useContext)(S),t=e.state,a=e.dispatch,n=t.contacts,s=t.isLoading,r=Object(b.f)();return s?Object(I.jsxs)("div",{className:"Center",children:[Object(I.jsx)(v.a,{color:"primary"}),Object(I.jsx)("div",{className:"text-primary",children:"Loading..."})]}):Object(I.jsxs)(j.a,{className:"mt-4",children:[0!==n.length||s?Object(I.jsx)(D.a,{children:Object.entries(n).map((function(e){var t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(I.jsx)(_.a,{children:Object(I.jsx)(P,{contact:c,contactKey:a})},a)}))}):Object(I.jsx)("div",{className:"Center text-large text-primary",children:"NO Contacts found in firebase"}),Object(I.jsx)(G.a,{className:"fab icon ",onClick:function(){a({type:U,payload:null,key:null}),r.push("/contact/add")}})]})},B=a(74),F=a(75),H=a(76),M=function(){return Object(I.jsxs)(B.a,{color:"info",light:!0,children:[Object(I.jsx)(F.a,{tag:u.b,to:"/",className:"text-white",children:"LCO Contact App"}),Object(I.jsx)(H.a,{className:"text-white float-right",children:"A simple Contact app"})]})},W=function(){return Object(I.jsx)("footer",{className:"bg-info text-center pt-3 pb-2 mt-5 sticky-bottom",children:"A simple Contact App"})},q=a(77),z=a(78),J=a(79),Q=a(80),V=function(){var e=Object(c.useContext)(S).state.contact;return Object(I.jsx)(j.a,{children:Object(I.jsx)(O.a,{className:"mt-5 mb-5",children:Object(I.jsx)(x.a,{md:"5",className:"offset-md-3",children:Object(I.jsx)(q.a,{className:"pt-3 pb-5",children:Object(I.jsxs)(z.a,{className:"text-center ",children:[Object(I.jsx)("img",{height:"150",width:"150",className:"cardImg profile border-danger",src:null===e||void 0===e?void 0:e.picture,alt:null===e||void 0===e?void 0:e.name}),Object(I.jsx)(J.a,{className:"text-primary mt-3",children:Object(I.jsx)("h1",{children:null===e||void 0===e?void 0:e.name})}),Object(I.jsx)(Q.a,{children:Object(I.jsxs)("h3",{children:[Object(I.jsx)(K.c,{className:"mr-2"}),null===e||void 0===e?void 0:e.phoneNumber]})}),Object(I.jsxs)("a",{className:"btn btn-primary btn-block",target:"_blank",href:"mailto:{contact?.email}",alt:null===e||void 0===e?void 0:e.name,children:[Object(I.jsx)(K.a,{className:"icon mr-2"}),null===e||void 0===e?void 0:e.email]}),Object(I.jsxs)("a",{className:"btn btn-primary btn-block",target:"_blank",href:"https://maps.google.com/?=".concat(null===e||void 0===e?void 0:e.address),alt:null===e||void 0===e?void 0:e.name,children:[Object(I.jsx)(K.b,{className:"icon mr-2"}),null===e||void 0===e?void 0:e.address]})]})})})})})},Y=function(){return Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"404 page not found"})})},$=a(18),X=function(e,t){switch(t.type){case A:return null==t.payload?Object($.a)(Object($.a)({},e),{},{contacts:[]}):Object($.a)(Object($.a)({},e),{},{contacts:t.payload});case T:return Object($.a)(Object($.a)({},e),{},{isLoading:t.payload});case U:return Object($.a)(Object($.a)({},e),{},{contactToUpdate:t.payload,contactToUpdateKey:t.key});case E:return Object($.a)(Object($.a)({},e),{},{contact:t.payload});default:return Object($.a)({},e)}};h.a.initializeApp({apiKey:"AIzaSyDHLFIgy2KpAH89hpYFhQq36GSdym4gn40",authDomain:"github-finder-9f607.firebaseapp.com",databaseURL:"https://github-finder-9f607-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"github-finder-9f607",storageBucket:"github-finder-9f607.appspot.com",messagingSenderId:"790528034079",appId:"1:790528034079:web:08aeb3e57acfd8a0789c2a",measurementId:"G-458M15CSV2"});var Z={contacts:[],contact:{},contactToUpdate:null,contactToUpdateKey:null,isLoading:!1},ee=function(){var e=Object(c.useReducer)(X,Z),t=Object(d.a)(e,2),a=t[0],n=t[1],s=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:T,payload:!0}),e.next=3,h.a.database().ref("/contacts");case 3:e.sent.on("value",(function(e){n({type:A,payload:e.val()}),n({type:T,payload:!1})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(I.jsx)(u.a,{children:Object(I.jsxs)(S.Provider,{value:{state:a,dispatch:n},children:[Object(I.jsx)(p.a,{}),Object(I.jsx)(M,{}),Object(I.jsx)(j.a,{children:Object(I.jsxs)(b.c,{children:[Object(I.jsx)(b.a,{exact:!0,path:"/contact/add",component:L}),Object(I.jsx)(b.a,{exact:!0,path:"/contact/view",component:V}),Object(I.jsx)(b.a,{exact:!0,path:"/",component:R}),Object(I.jsx)(b.a,{exact:!0,path:"*",component:Y})]})}),Object(I.jsx)(W,{})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(ee,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.b5e331e9.chunk.js.map